<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Admin | Settings</title>

<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
<script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
<script src="https://unpkg.com/lucide@latest"></script>
<link rel="stylesheet" href="../assets/css/theme.css"/>

<style>
  /* --- Global Style --- */
  body {
    background: radial-gradient(circle at top, #0b0f17 40%, #05070c 100%);
    color: var(--text);
    font-family: "Inter", sans-serif;
    overflow-x: hidden;
  }

  .navbar {
    background: rgba(15, 20, 30, 0.85);
    border-bottom: 1px solid rgba(0,255,247,.2);
    backdrop-filter: blur(8px);
  }

  .navbar-brand {
    color: var(--neon);
    font-weight: 600;
    letter-spacing: 0.5px;
  }

  .nav-link {
    color: var(--muted);
    transition: color .2s;
  }

  .nav-link:hover,
  .nav-link.active {
    color: var(--neon);
  }

  /* --- Button Styles --- */
  .btn-neon {
    background: var(--neon);
    color: #000;
    border: none;
    border-radius: 10px;
    transition: all .3s;
    font-weight: 500;
  }
  .btn-neon:hover {
    background: rgba(0,255,247,.85);
    transform: translateY(-2px);
    box-shadow: 0 0 12px rgba(0,255,247,.4);
  }

  .btn-outline-neon {
    border: 1px solid var(--neon);
    color: var(--neon);
    background: transparent;
    border-radius: 10px;
    transition: all .3s;
  }
  .btn-outline-neon:hover {
    background: var(--neon);
    color: #000;
    box-shadow: 0 0 12px rgba(0,255,247,.4);
  }

  /* --- Card Style --- */
  .card {
    background: rgba(0,255,247,.05);
    border: 1px solid rgba(0,255,247,.12);
    border-radius: 16px;
    padding: 1.5rem;
    transition: all .35s ease;
    backdrop-filter: blur(12px);
  }

  .card-2{
    
    background: rgba(0,255,247,.05);
    border: 1px solid rgba(0,255,247,.12);
    border-radius: 16px;
    padding: 1.5rem;
    transition: all .35s ease;
    backdrop-filter: blur(12px);
  
  }
  .card:hover {
    box-shadow: 0 6px 22px rgba(0,255,247,.1);
    transform: translateY(-4px);
  }

  h5 {
    color: var(--neon);
    font-weight: 600;
    margin-bottom: 1rem;
  }

  .w-100{
    border: 1px solid;
  }
  label {
    color: var(--muted);
    font-size: 0.9rem;
  }

  input, select {
    background: rgba(0,255,247,.05);
    border: 1px solid rgba(0,255,247,.15);
    color: var(--text);
  }

  .form-control:focus, .form-select:focus {
    border-color: var(--neon);
    box-shadow: 0 0 0 0.15rem rgba(0,255,247,.25);
  }

  footer {
    border-top: 1px solid rgba(0,255,247,.1);
    text-align: center;
    color: var(--muted);
    padding: 1rem 0;
    font-size: 0.85rem;
  }

  .fade-in { animation: fadeIn .6s ease; }
  @keyframes fadeIn { from{opacity:0;transform:translateY(10px);} to{opacity:1;transform:translateY(0);} }
</style>
</head>

<body class="d-flex flex-column min-vh-100 fade-in">

<!-- NAVBAR -->
<nav class="navbar navbar-expand-lg sticky-top">
  <div class="container-fluid">
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#mainNav">
      <span class="navbar-toggler-icon"></span>
    </button>
    <div class="collapse navbar-collapse" id="mainNav">
      <ul class="navbar-nav me-auto mb-2 mb-lg-0">
        <li class="nav-item"><a class="nav-link" href="index.html">Dashboard</a></li>
        <li class="nav-item"><a class="nav-link" href="users.html">Users</a></li>
        <li class="nav-item"><a class="nav-link" href="projects.html">Projects</a></li>
        <li class="nav-item"><a class="nav-link" href="reports.html">Reports</a></li>
        <li class="nav-item"><a class="nav-link active" href="settings.html">Settings</a></li>
      </ul>
      <div class="d-flex align-items-center gap-2">
        <button id="logoutBtn" class="btn btn-sm btn-outline-neon">
          <i data-lucide="log-out"></i> Logout
        </button>
      </div>
    </div>
  </div>
</nav>

<!-- MAIN -->
<main class="flex-fill container py-5">
<script>requireRole('admin');</script>

<h3 class="text-neon fw-semibold mb-4">Settings</h3>

<div class="row g-4">
  <!-- GENERAL SETTINGS -->
  <div class="col-12 col-lg-6">
    <div class="card">
      <h5><i data-lucide="settings" class="me-1"></i> General Settings</h5>
      <div class="mb-3">
        <label class="form-label">Company Name</label>
        <input class="form-control" id="companyName" value="AutoLogic">
      </div>
      <div class="mb-3">
        <label class="form-label">Timezone</label>
        <select class="form-select" id="timezone">
          <option selected>Asia/Kolkata</option>
          <option>UTC</option>
          <option>Europe/London</option>
          <option>America/New_York</option>
        </select>
      </div>
      <div class="mb-3">
        <label class="form-label">Language</label>
        <select class="form-select" id="language">
          <option>English</option><option>Hindi</option><option>Spanish</option><option>French</option>
        </select>
      </div>
      <button class="btn w-100" onclick="saveGeneral()">Save Changes</button>
    </div>
  </div>

  <!-- SECURITY SETTINGS -->
  <div class="col-12 col-lg-6">
    <div class="card-2">
      <h5><i data-lucide="shield" class="me-1"></i> Security</h5>
      <div class="form-check mb-2">
        <input class="form-check-input" type="checkbox" id="2fa">
        <label class="form-check-label" for="2fa">Enable Two-Factor Authentication</label>
      </div>
      <div class="form-check mb-2">
        <input class="form-check-input" type="checkbox" id="sso" checked>
        <label class="form-check-label" for="sso">Enable Single Sign-On (SSO)</label>
      </div>
      <div class="form-check mb-3">
        <input class="form-check-input" type="checkbox" id="passPolicy" checked>
        <label class="form-check-label" for="passPolicy">Enforce Strong Password Policy</label>
      </div>
      <button class="btn w-100" onclick="updateSecurity()">Update Security</button>
    </div>
  </div>

  <!-- APPEARANCE -->
  <div class="col-12 col-lg-6">
    <div class="card">
      <h5><i data-lucide="monitor" class="me-1"></i> Appearance</h5>
      <div class="form-check mb-2">
        <input class="form-check-input" type="radio" name="themeChoice" id="darkMode" checked>
        <label class="form-check-label" for="darkMode">Dark Mode</label>
      </div>
      <div class="form-check mb-2">
        <input class="form-check-input" type="radio" name="themeChoice" id="lightMode">
        <label class="form-check-label" for="lightMode">Light Mode</label>
      </div>
      <div class="form-check mb-3">
        <input class="form-check-input" type="radio" name="themeChoice" id="autoMode">
        <label class="form-check-label" for="autoMode">Auto (System Default)</label>
      </div>
      <button class="btn w-100" onclick="applyTheme()">Apply Theme</button>
    </div>
  </div>

  <!-- NOTIFICATIONS -->
  <div class="col-12 col-lg-6">
    <div class="card">
      <h5><i data-lucide="bell" class="me-1"></i> Notifications</h5>
      <div class="form-check mb-2">
        <input class="form-check-input" type="checkbox" id="emailNotifs" checked>
        <label class="form-check-label" for="emailNotifs">Email Notifications</label>
      </div>
      <div class="form-check mb-2">
        <input class="form-check-input" type="checkbox" id="smsNotifs">
        <label class="form-check-label" for="smsNotifs">SMS Alerts</label>
      </div>
      <div class="form-check mb-3">
        <input class="form-check-input" type="checkbox" id="systemAlerts" checked>
        <label class="form-check-label" for="systemAlerts">System Notifications</label>
      </div>
      <button class="btn w-100" onclick="updateNotifications()">Save Preferences</button>
    </div>
  </div>
</div>
</main>

<footer>Â© 2025 AutoLogic Automation Portal</footer>

<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
<script src="../assets/js/auth.js"></script>
<script src="../assets/js/ui.js"></script>

<script>
if(window.lucide) lucide.createIcons();

// Theme toggle
document.getElementById('themeBtn')?.addEventListener('click',function(){
  const icon=this.querySelector('i');
  const isMoon=icon.getAttribute('data-lucide')==='moon';
  icon.setAttribute('data-lucide',isMoon?'sun':'moon');
  document.body.classList.toggle('light');
  if(window.lucide) lucide.createIcons();
});

// Logout Confirmation
document.getElementById('logoutBtn')?.addEventListener('click',()=>{
  Swal.fire({
    icon:'question',
    title:'Logout Confirmation',
    text:'Are you sure you want to log out?',
    showCancelButton:true,
    confirmButtonText:'Logout',
    background:'#0b0f17',
    color:'#00fff7'
  }).then(res=>{if(res.isConfirmed)logout();});
});

// SweetAlert feedbacks
function saveGeneral(){Swal.fire({icon:'success',title:'Saved',text:'General settings updated.',background:'#0b0f17',color:'#00fff7'});}
function updateSecurity(){Swal.fire({icon:'success',title:'Security Updated',text:'Security settings saved successfully.',background:'#0b0f17',color:'#00fff7'});}
function applyTheme(){Swal.fire({icon:'info',title:'Theme Applied',text:'Your theme preferences are active.',background:'#0b0f17',color:'#00fff7'});}
function updateNotifications(){Swal.fire({icon:'success',title:'Notifications Updated',text:'Preferences saved.',background:'#0b0f17',color:'#00fff7'});}
</script>
</body>
</html>
